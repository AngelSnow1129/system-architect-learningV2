# 第7章：系统安全分析与设计 - 知识提纲与重难点

## 📊 章节概况
- **考试重要性**：⭐⭐⭐⭐⭐
- **考试频率**：极高（每年10-15分）
- **建议学习时间**：12-15小时
- **主要题型**：选择题、案例分析题、综合应用题

---

## 🎯 核心知识点框架

### 重点1：信息安全基本属性 ⭐⭐⭐⭐⭐
**难度**：★★★☆☆
**考试频率**：极高

**信息安全三要素（CIA三元组）：** ⭐⭐⭐⭐⭐

**1. 机密性（Confidentiality）：**
```
定义：确保信息不被未授权的用户访问或泄露

实现技术：
- 加密技术（对称加密、非对称加密）
- 访问控制（ACL、RBAC）
- 身份认证
- 数据脱敏

威胁：
- 窃听
- 非法访问
- 社会工程学攻击

防护措施：
- 数据加密
- 网络隔离
- 权限管理
- 安全审计
```

**2. 完整性（Integrity）：**
```
定义：确保信息在存储和传输过程中不被非法修改

实现技术：
- 消息摘要（MD5、SHA）
- 数字签名
- 消息认证码（MAC）
- 校验和（CRC）

威胁：
- 数据篡改
- 病毒破坏
- 中间人攻击

防护措施：
- 数字签名
- 完整性校验
- 版本控制
- 备份恢复
```

**3. 可用性（Availability）：**
```
定义：确保授权用户在需要时能够访问信息和资源

实现技术：
- 冗余设计
- 负载均衡
- 容灾备份
- 故障恢复

威胁：
- 拒绝服务攻击（DoS/DDoS）
- 系统故障
- 自然灾害

防护措施：
- 高可用架构
- 流量清洗
- 应急预案
- 定期演练
```

**信息安全扩展属性：** ⭐⭐⭐⭐

**4. 可控性（Controllability）：**
```
定义：对信息的传播及内容具有控制能力

实现：
- 访问控制
- 审计日志
- 内容过滤
```

**5. 可审查性（Auditability）：**
```
定义：对出现的安全问题提供调查依据和手段

实现：
- 日志记录
- 审计跟踪
- 取证分析
```

**6. 不可否认性（Non-repudiation）：**
```
定义：防止实体否认曾经的行为和承诺

实现：
- 数字签名
- 时间戳
- 第三方公证
```

**7. 可靠性（Reliability）：**
```
定义：系统能够持续正常运行

实现：
- 冗余设计
- 容错机制
- 故障恢复
```

### 重点2：加密技术 ⭐⭐⭐⭐⭐
**难度**：★★★★☆
**考试频率**：极高

**对称加密（私钥加密）：** ⭐⭐⭐⭐⭐

**特点：**
```
加密和解密使用相同的密钥

优点：
- 加密速度快
- 效率高
- 适合大量数据加密

缺点：
- 密钥分发困难
- 密钥管理复杂
- n个用户需要n(n-1)/2个密钥

密钥数量：n个用户需要C(n,2) = n(n-1)/2个密钥
```

**常见算法：** ⭐⭐⭐⭐⭐
```
1. DES（Data Encryption Standard）：
   - 密钥长度：56位（实际64位，8位校验）
   - 分组长度：64位
   - 已不安全，被破解

2. 3DES（Triple DES）：
   - 使用3个56位密钥
   - 加密-解密-加密
   - 较安全但速度慢

3. AES（Advanced Encryption Standard）：⭐⭐⭐⭐⭐
   - 密钥长度：128、192、256位
   - 分组长度：128位
   - 目前最常用，安全性高
   - 速度快，效率高

4. RC4：
   - 流加密算法
   - 密钥长度可变（1-256字节）
   - 速度快但有安全漏洞

5. IDEA：
   - 密钥长度：128位
   - 分组长度：64位
```

**非对称加密（公钥加密）：** ⭐⭐⭐⭐⭐

**特点：**
```
使用一对密钥：公钥和私钥
- 公钥加密，私钥解密（加密）
- 私钥加密，公钥解密（签名）

优点：
- 密钥分发简单
- 密钥管理方便
- n个用户只需要n对密钥（2n个密钥）

缺点：
- 加密速度慢
- 效率低
- 不适合大量数据加密

密钥数量：n个用户需要2n个密钥（n对）
```

**常见算法：** ⭐⭐⭐⭐⭐
```
1. RSA：⭐⭐⭐⭐⭐
   - 基于大数分解难题
   - 密钥长度：1024、2048、4096位
   - 最常用的非对称加密算法
   - 可用于加密和数字签名

2. ECC（椭圆曲线加密）：
   - 基于椭圆曲线离散对数问题
   - 密钥长度短，安全性高
   - 160位ECC ≈ 1024位RSA
   - 适合移动设备

3. DSA（数字签名算法）：
   - 只能用于数字签名
   - 不能用于加密

4. ElGamal：
   - 基于离散对数问题
   - 可用于加密和签名
```

**混合加密体制：** ⭐⭐⭐⭐⭐
```
结合对称加密和非对称加密的优点

工作流程：
1. 生成随机会话密钥（对称密钥）
2. 用会话密钥加密数据（对称加密，快速）
3. 用接收方公钥加密会话密钥（非对称加密）
4. 发送加密的数据和加密的会话密钥

典型应用：
- HTTPS/SSL/TLS
- PGP
- S/MIME
```

**消息摘要（哈希函数）：** ⭐⭐⭐⭐⭐

**特点：**
```
将任意长度的消息映射为固定长度的摘要

性质：
1. 单向性：不可逆，无法从摘要还原原文
2. 抗碰撞性：
   - 弱抗碰撞：给定消息，难以找到另一消息有相同摘要
   - 强抗碰撞：难以找到任意两个消息有相同摘要
3. 雪崩效应：输入微小变化导致输出巨大变化
4. 确定性：相同输入产生相同输出
```

**常见算法：** ⭐⭐⭐⭐⭐
```
1. MD5（Message Digest 5）：
   - 摘要长度：128位（16字节）
   - 已被破解，不推荐使用
   - 仍用于文件校验

2. SHA-1（Secure Hash Algorithm 1）：
   - 摘要长度：160位（20字节）
   - 已被破解，逐步淘汰

3. SHA-2系列：⭐⭐⭐⭐⭐
   - SHA-224：224位
   - SHA-256：256位（最常用）
   - SHA-384：384位
   - SHA-512：512位
   - 目前安全，广泛使用

4. SHA-3：
   - 最新标准
   - 与SHA-2不同的设计
```

**数字签名：** ⭐⭐⭐⭐⭐

**原理：**
```
发送方：
1. 对消息计算摘要
2. 用私钥加密摘要，得到数字签名
3. 发送消息和签名

接收方：
1. 用发送方公钥解密签名，得到摘要1
2. 对收到的消息计算摘要2
3. 比较摘要1和摘要2
4. 相同则验证通过
```

**作用：**
```
1. 身份认证：确认发送方身份
2. 完整性：确保消息未被篡改
3. 不可否认：发送方不能否认
```

**常见算法：**
```
- RSA签名
- DSA（数字签名算法）
- ECDSA（椭圆曲线数字签名算法）
```

### 重点3：网络安全 ⭐⭐⭐⭐⭐
**难度**：★★★★☆
**考试频率**：极高

**防火墙：** ⭐⭐⭐⭐⭐

**定义：**
```
在内部网络和外部网络之间建立的安全屏障
```

**类型：**

**1. 包过滤防火墙：**
```
工作层次：网络层

原理：
- 检查数据包的头部信息
- 根据规则决定是否转发

检查内容：
- 源IP地址
- 目的IP地址
- 源端口
- 目的端口
- 协议类型

优点：
- 速度快
- 透明性好
- 成本低

缺点：
- 安全性较低
- 不能防止应用层攻击
- 规则复杂时难以管理
```

**2. 状态检测防火墙：**
```
工作层次：网络层到传输层

原理：
- 维护连接状态表
- 跟踪会话状态
- 动态调整规则

优点：
- 安全性高于包过滤
- 能识别连接状态
- 防止某些攻击

缺点：
- 性能开销较大
- 仍不能防止应用层攻击
```

**3. 应用层网关（代理防火墙）：**
```
工作层次：应用层

原理：
- 作为客户端和服务器的中介
- 检查应用层数据
- 可以理解应用协议

优点：
- 安全性最高
- 能防止应用层攻击
- 可以进行内容过滤
- 隐藏内部网络结构

缺点：
- 速度慢
- 需要为每个应用配置
- 不透明
```

**入侵检测系统（IDS）：** ⭐⭐⭐⭐⭐

**定义：**
```
监控网络或系统活动，检测入侵行为
```

**检测方法：**

**1. 异常检测：**
```
原理：
- 建立正常行为模型
- 偏离正常行为视为入侵

优点：
- 能检测未知攻击
- 适应性强

缺点：
- 误报率高
- 需要训练期
```

**2. 误用检测（特征检测）：**
```
原理：
- 建立攻击特征库
- 匹配已知攻击模式

优点：
- 误报率低
- 检测准确

缺点：
- 不能检测未知攻击
- 需要更新特征库
```

**部署位置：**
```
1. 网络型IDS（NIDS）：
   - 监控网络流量
   - 部署在网络关键节点

2. 主机型IDS（HIDS）：
   - 监控主机活动
   - 部署在重要主机上
```

**入侵防御系统（IPS）：** ⭐⭐⭐⭐
```
IDS + 主动防御

特点：
- 不仅检测，还能阻止攻击
- 串联部署在网络中
- 实时响应

与IDS的区别：
- IDS：旁路部署，被动监控
- IPS：串联部署，主动防御
```

**VPN（虚拟专用网）：** ⭐⭐⭐⭐⭐

**定义：**
```
在公共网络上建立加密的专用通道
```

**类型：**

**1. 远程访问VPN：**
```
用途：远程用户访问企业网络
场景：移动办公、在家办公
```

**2. 站点到站点VPN：**
```
用途：连接不同地点的网络
场景：分支机构互联
```

**3. SSL VPN：**
```
特点：
- 基于SSL/TLS协议
- 通过浏览器访问
- 无需客户端软件
- 灵活性高
```

**4. IPSec VPN：**
```
特点：
- 工作在网络层
- 需要客户端软件
- 安全性高
- 性能好

工作模式：
- 传输模式：只加密数据部分
- 隧道模式：加密整个IP包
```

**常见网络攻击：** ⭐⭐⭐⭐⭐

**1. 拒绝服务攻击（DoS/DDoS）：**
```
目的：使系统无法提供正常服务

类型：
- SYN Flood：发送大量SYN请求
- UDP Flood：发送大量UDP包
- ICMP Flood：发送大量ICMP包
- 应用层攻击：消耗应用资源

防御：
- 流量清洗
- 限流
- 黑名单
- CDN
```

**2. 中间人攻击（MITM）：**
```
原理：
- 攻击者截获通信
- 可以窃听或篡改数据

防御：
- 加密通信
- 数字证书
- 双向认证
```

**3. SQL注入：**
```
原理：
- 在输入中插入SQL代码
- 执行恶意SQL语句

防御：
- 参数化查询
- 输入验证
- 最小权限原则
```

**4. XSS（跨站脚本攻击）：**
```
原理：
- 在网页中注入恶意脚本
- 窃取用户信息

防御：
- 输入过滤
- 输出编码
- CSP策略
```

**5. CSRF（跨站请求伪造）：**
```
原理：
- 利用用户身份执行非预期操作

防御：
- CSRF Token
- 验证Referer
- 二次验证
```

### 重点4：访问控制 ⭐⭐⭐⭐⭐
**难度**：★★★☆☆
**考试频率**：高

**访问控制模型：** ⭐⭐⭐⭐⭐

**1. 自主访问控制（DAC）：**
```
特点：
- 资源所有者决定访问权限
- 灵活性高
- 安全性较低

实现：
- 访问控制列表（ACL）
- 权限矩阵

典型应用：
- Windows文件系统
- Unix/Linux文件权限
```

**2. 强制访问控制（MAC）：**
```
特点：
- 系统强制执行访问策略
- 基于安全标签
- 安全性高
- 灵活性低

实现：
- Bell-LaPadula模型（保密性）
  - 不上读（No Read Up）
  - 不下写（No Write Down）
  
- Biba模型（完整性）
  - 不下读（No Read Down）
  - 不上写（No Write Up）

典型应用：
- 军事系统
- 政府机密系统
```

**3. 基于角色的访问控制（RBAC）：** ⭐⭐⭐⭐⭐
```
特点：
- 用户通过角色获得权限
- 权限与角色关联，角色与用户关联
- 便于管理
- 灵活性和安全性平衡

组成：
- 用户（User）
- 角色（Role）
- 权限（Permission）
- 会话（Session）

关系：
用户 → 角色 → 权限

优点：
- 简化权限管理
- 支持最小权限原则
- 职责分离
- 易于审计

典型应用：
- 企业信息系统
- 数据库管理系统
```

**4. 基于属性的访问控制（ABAC）：**
```
特点：
- 基于属性和策略
- 动态决策
- 灵活性最高

属性类型：
- 主体属性（用户属性）
- 客体属性（资源属性）
- 环境属性（时间、地点等）

典型应用：
- 云计算环境
- 物联网
```

**身份认证：** ⭐⭐⭐⭐⭐

**认证方式：**

**1. 基于知识的认证：**
```
你知道什么（What you know）

方式：
- 密码
- PIN码
- 安全问题

优点：
- 简单易用
- 成本低

缺点：
- 容易被窃取
- 容易被猜测
- 容易被遗忘
```

**2. 基于所有物的认证：**
```
你拥有什么（What you have）

方式：
- 智能卡
- USB Key
- 手机（短信验证码）
- 令牌（Token）

优点：
- 安全性较高
- 不易被复制

缺点：
- 可能丢失
- 需要额外设备
```

**3. 基于生物特征的认证：**
```
你是什么（What you are）

方式：
- 指纹
- 虹膜
- 人脸
- 声纹
- 静脉

优点：
- 唯一性强
- 不易伪造
- 不会遗忘

缺点：
- 成本高
- 可能误识别
- 隐私问题
```

**4. 多因素认证（MFA）：** ⭐⭐⭐⭐⭐
```
结合两种或以上认证方式

常见组合：
- 密码 + 短信验证码
- 密码 + 指纹
- 智能卡 + PIN码

优点：
- 安全性大幅提高
- 即使一种方式被破解，仍有其他保护

缺点：
- 用户体验略差
- 实施成本较高
```

**单点登录（SSO）：** ⭐⭐⭐⭐
```
定义：
用户只需登录一次，即可访问多个系统

优点：
- 提高用户体验
- 简化密码管理
- 便于集中管理

缺点：
- 单点故障风险
- 一旦被攻破，影响范围大

实现技术：
- CAS（Central Authentication Service）
- OAuth 2.0
- SAML（Security Assertion Markup Language）
- OpenID Connect
```

### 重点5：PKI与数字证书 ⭐⭐⭐⭐⭐
**难度**：★★★★☆
**考试频率**：高

**PKI（公钥基础设施）：** ⭐⭐⭐⭐⭐

**定义：**
```
提供公钥加密和数字签名服务的基础设施
```

**组成：**

**1. CA（证书颁发机构）：** ⭐⭐⭐⭐⭐
```
职责：
- 颁发数字证书
- 验证用户身份
- 管理证书生命周期
- 发布证书撤销列表（CRL）

层次结构：
- 根CA：最高级别，自签名证书
- 中间CA：由根CA签发
- 终端实体：由中间CA签发
```

**2. RA（注册机构）：**
```
职责：
- 接受证书申请
- 验证申请者身份
- 向CA提交证书请求
```

**3. 证书库：**
```
存储已颁发的证书
```

**4. 密钥备份及恢复系统：**
```
备份用户私钥，防止丢失
```

**5. 证书撤销列表（CRL）：**
```
列出已撤销的证书
定期发布和更新
```

**数字证书：** ⭐⭐⭐⭐⭐

**X.509证书格式：**
```
包含内容：
1. 版本号
2. 序列号：唯一标识证书
3. 签名算法
4. 颁发者（CA）
5. 有效期：起始和结束时间
6. 主体（证书持有者）
7. 主体公钥信息
8. 扩展字段
9. CA的数字签名

证书链：
终端证书 → 中间CA证书 → 根CA证书
```

**证书验证过程：**
```
1. 检查证书有效期
2. 检查证书是否被撤销（查CRL或OCSP）
3. 验证证书链
4. 验证CA的数字签名
5. 检查证书用途
```

**OCSP（在线证书状态协议）：**
```
实时查询证书状态
比CRL更及时
```

**典型考题：** ⭐⭐⭐⭐⭐

**题目：** 在PKI体系中，负责证书申请者身份审核的是？
A. CA  B. RA  C. 证书库  D. 密钥备份系统

**答案：B（RA负责身份审核，CA负责颁发证书）**

**快速记忆法：** ⭐⭐⭐⭐⭐

**信息安全三要素：**
```
"机完可" - 机密性、完整性、可用性
CIA - Confidentiality、Integrity、Availability
```

**加密算法：**
```
对称："DES、3DES、AES、RC4"
非对称："RSA、ECC、DSA"
摘要："MD5、SHA"
```

**防火墙类型：**
```
"包状应" - 包过滤、状态检测、应用层网关
```

**访问控制：**
```
"自强基属" - 自主（DAC）、强制（MAC）、基于角色（RBAC）、基于属性（ABAC）
```

**认证方式：**
```
"知有是" - 知识、所有物、生物特征
```

**易错点提醒：** ⭐⭐⭐⭐⭐
1. 对称加密n个用户需要n(n-1)/2个密钥
2. 非对称加密n个用户需要2n个密钥
3. 数字签名用私钥加密，公钥解密
4. Bell-LaPadula保密性：不上读不下写
5. Biba完整性：不下读不上写（与BLP相反）
6. IDS是旁路部署，IPS是串联部署
7. CA颁发证书，RA审核身份
8. 混合加密：对称加密数据，非对称加密密钥

---

## 📝 学习建议

1. **重点掌握**：
   - 信息安全三要素
   - 加密技术（对称、非对称、摘要）
   - 数字签名原理
   - 访问控制模型（特别是RBAC）
   - PKI体系结构

2. **学习方法**：
   - 理解原理，不要死记硬背
   - 对比记忆相似概念
   - 结合实际应用理解

3. **考试技巧**：
   - 密钥数量要会算
   - 加密算法要记特点
   - 访问控制模型要区分
   - PKI组件职责要清楚

---

## 🎓 总结

本章重点：
- 信息安全三要素是基础
- 加密技术是核心（对称、非对称、摘要）
- 网络安全设备要理解原理
- 访问控制模型要区分特点
- PKI体系要掌握组成和流程
