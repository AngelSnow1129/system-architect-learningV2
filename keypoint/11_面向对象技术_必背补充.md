# 第11章：面向对象技术 - 必背补充内容

## 11.X 必背知识点速查 ⭐⭐⭐⭐⭐

### 面向对象三大特征（必背）⭐⭐⭐⭐⭐
```
┌────────┬──────────┬──────────────┬──────────────┐
│特征    │ 封装     │ 继承         │ 多态         │
├────────┼──────────┼──────────────┼──────────────┤
│核心    │ 信息隐藏 │ 代码复用     │ 接口统一     │
├────────┼──────────┼──────────────┼──────────────┤
│关键词  │ private  │ extends      │ override     │
│        │ public   │ super        │ virtual      │
├────────┼──────────┼──────────────┼──────────────┤
│实现    │ 访问控制 │ 单继承/多继承│ 动态绑定     │
├────────┼──────────┼──────────────┼──────────────┤
│优点    │ 安全性高 │ 提高复用     │ 灵活性强     │
│        │ 降低耦合 │ 易于扩展     │ 易于扩展     │
├────────┼──────────┼──────────────┼──────────────┤
│典型应用│ 类的设计 │ 类的继承     │ 方法重写     │
└────────┴──────────┴──────────────┴──────────────┘

记忆口诀：
封装隐藏内部细节，继承复用父类代码
多态接口统一调用，三大特征要记牢
```

### 重载 vs 重写（必背）⭐⭐⭐⭐⭐
```
┌──────────┬──────────┬──────────┐
│特征      │ 重载     │ 重写     │
├──────────┼──────────┼──────────┤
│英文      │ Overload │ Override │
├──────────┼──────────┼──────────┤
│位置      │ 同一个类 │ 父子类   │
├──────────┼──────────┼──────────┤
│方法名    │ 相同     │ 相同     │
├──────────┼──────────┼──────────┤
│参数列表  │ 不同     │ 相同     │
├──────────┼──────────┼──────────┤
│返回类型  │ 可以不同 │ 相同或   │
│          │          │ 协变     │
├──────────┼──────────┼──────────┤
│绑定时机  │ 编译时   │ 运行时   │
│          │ 静态绑定 │ 动态绑定 │
├──────────┼──────────┼──────────┤
│多态类型  │ 静态多态 │ 动态多态 │
└──────────┴──────────┴──────────┘

记忆口诀：
重载同类不同参，编译时期就确定
重写父子同名同参，运行时期才绑定
```

### UML类图关系（必背）⭐⭐⭐⭐⭐
```
关系强度（从强到弱）：
泛化 > 实现 > 组合 > 聚合 > 关联 > 依赖

┌────────┬──────┬──────┬──────────┬──────────┐
│关系    │符号  │箭头  │ 生命周期 │ 典型例子 │
├────────┼──────┼──────┼──────────┼──────────┤
│泛化    │──▷  │空心  │ 继承关系 │ 狗是动物 │
│继承    │      │三角  │          │          │
├────────┼──────┼──────┼──────────┼──────────┤
│实现    │┄┄▷  │虚线  │ 接口实现 │ 类实现   │
│        │      │空心  │          │ 接口     │
├────────┼──────┼──────┼──────────┼──────────┤
│组合    │──◆  │实心  │ 同生共死 │ 人和心脏 │
│        │      │菱形  │ 强拥有   │          │
├────────┼──────┼──────┼──────────┼──────────┤
│聚合    │──◇  │空心  │ 可独立   │ 公司和   │
│        │      │菱形  │ 弱拥有   │ 员工     │
├────────┼──────┼──────┼──────────┼──────────┤
│关联    │──>   │实线  │ 属性关系 │ 学生和   │
│        │      │箭头  │ 长期     │ 老师     │
├────────┼──────┼──────┼──────────┼──────────┤
│依赖    │┄┄>   │虚线  │ 参数关系 │ 人使用   │
│        │      │箭头  │ 临时     │ 电脑     │
└────────┴──────┴──────┴──────────┴──────────┘

记忆口诀：
泛化实现组聚关依，强度从强到弱排
实心菱形是组合，空心菱形是聚合
实线箭头是关联，虚线箭头是依赖
空心三角是泛化，虚线三角是实现
```

### 设计模式分类（必背）⭐⭐⭐⭐⭐
```
创建型模式（5种）：对象创建
1. 单例模式（Singleton）
2. 工厂方法（Factory Method）
3. 抽象工厂（Abstract Factory）
4. 建造者（Builder）
5. 原型模式（Prototype）

结构型模式（7种）：类和对象组合
1. 适配器（Adapter）
2. 桥接（Bridge）
3. 组合（Composite）
4. 装饰（Decorator）
5. 外观（Facade）
6. 享元（Flyweight）
7. 代理（Proxy）

行为型模式（11种）：对象间通信
1. 观察者（Observer）
2. 策略（Strategy）
3. 模板方法（Template Method）
4. 命令（Command）
5. 责任链（Chain of Responsibility）
6. 中介者（Mediator）
7. 备忘录（Memento）
8. 迭代器（Iterator）
9. 访问者（Visitor）
10. 状态（State）
11. 解释器（Interpreter）

记忆口诀：
创建型：单工抽建原（5种）
结构型：适桥组装外享代（7种）
行为型：观策模命责链，中介备忘迭访状解（11种）
```

### 常用设计模式对比（必背）⭐⭐⭐⭐⭐
```
┌──────────┬──────────┬──────────┬──────────┐
│模式      │ 意图     │ 关键点   │ 典型应用 │
├──────────┼──────────┼──────────┼──────────┤
│单例      │ 唯一实例 │ 私有构造 │ 配置管理 │
│          │          │ 静态实例 │ 日志系统 │
├──────────┼──────────┼──────────┼──────────┤
│工厂方法  │ 延迟创建 │ 工厂接口 │ JDBC连接 │
│          │ 子类决定 │ 产品接口 │ 日志工厂 │
├──────────┼──────────┼──────────┼──────────┤
│抽象工厂  │ 产品族   │ 多个工厂 │ UI组件   │
│          │ 一致性   │ 多个产品 │ 跨平台   │
├──────────┼──────────┼──────────┼──────────┤
│适配器    │ 接口转换 │ 包装对象 │ 接口适配 │
│          │ 兼容性   │ 转换调用 │ 遗留系统 │
├──────────┼──────────┼──────────┼──────────┤
│装饰      │ 动态增强 │ 包装对象 │ IO流     │
│          │ 功能扩展 │ 递归包装 │ GUI组件  │
├──────────┼──────────┼──────────┼──────────┤
│代理      │ 控制访问 │ 代理对象 │ 远程代理 │
│          │ 延迟加载 │ 转发请求 │ 虚拟代理 │
├──────────┼──────────┼──────────┼──────────┤
│观察者    │ 一对多   │ 主题对象 │ 事件监听 │
│          │ 通知机制 │ 观察者   │ MVC模式  │
├──────────┼──────────┼──────────┼──────────┤
│策略      │ 算法切换 │ 策略接口 │ 排序算法 │
│          │ 行为变化 │ 上下文   │ 支付方式 │
└──────────┴──────────┴──────────┴──────────┘
```

## 11.Y 快速记忆口诀大全 ⭐⭐⭐⭐⭐

### 面向对象三大特征
```
封装隐藏保安全，private控制访问权
继承复用父类码，extends扩展新功能
多态接口统一调，override重写方法
三大特征是基础，面向对象核心柱
```

### 重载与重写
```
重载同类不同参，编译确定静态绑
重写父子同名参，运行确定动态绑
Load是加载多个，ride是骑在上面
```

### UML类图关系
```
泛化实现组聚关依，六种关系要分清
实心菱形强组合，空心菱形弱聚合
实线箭头是关联，虚线箭头是依赖
空心三角是泛化，虚线三角是实现
菱形指向整体方，箭头指向被依赖
```

### 组合与聚合
```
组合关系强拥有，整体部分同生死
聚合关系弱拥有，部分可以独立存
人和心脏是组合，公司员工是聚合
```

### 设计模式分类
```
创建型模式管创建，单工抽建原五种
结构型模式管组合，适桥组装外享代
行为型模式管通信，观策模命责链中
中介备忘迭访状，解释器也要记清
```

### 单例模式
```
单例模式唯一例，私有构造是关键
静态实例静态法，懒汉饿汉两方案
懒汉延迟要加锁，饿汉提前线程安
```

### 工厂模式
```
工厂方法一产品，抽象工厂产品族
工厂方法子类定，抽象工厂多工厂
JDBC连接工厂法，UI组件抽象厂
```

### 装饰与代理
```
装饰模式增功能，动态包装递归套
代理模式控访问，延迟加载权限控
装饰增强原功能，代理控制不增强
```

### 观察者模式
```
观察者模式一对多，主题对象被观察
观察者们来订阅，状态改变就通知
事件监听典型例，MVC模式也用它
```

### 策略模式
```
策略模式算法换，策略接口定规范
上下文持有策略，运行时期可切换
排序算法支付法，都是策略好应用
```

## 11.Z 典型例题精讲 ⭐⭐⭐⭐⭐

### 例题1：面向对象特征 ⭐⭐⭐⭐⭐
以下不属于面向对象三大特征的是？
A. 封装  B. 继承  C. 多态  D. 抽象

**解析**：
```
面向对象三大特征：
1. 封装（Encapsulation）：信息隐藏
2. 继承（Inheritance）：代码复用
3. 多态（Polymorphism）：接口统一

抽象是面向对象的重要概念，但不是三大特征之一。

有些资料会说"四大特征"，加上抽象，但考试通常考三大特征。

记忆：封继多（封装、继承、多态）
```
**答案**：D

### 例题2：重载与重写 ⭐⭐⭐⭐⭐
以下关于重载和重写的叙述，错误的是？
A. 重载发生在同一个类中
B. 重写发生在父子类之间
C. 重载的方法名相同，参数列表不同
D. 重写在编译时确定调用哪个方法

**解析**：
```
重载（Overload）：
- 位置：同一个类中 ✓
- 方法名：相同 ✓
- 参数：不同 ✓
- 绑定：编译时（静态绑定）✓

重写（Override）：
- 位置：父子类之间 ✓
- 方法名：相同
- 参数：相同
- 绑定：运行时（动态绑定）✓

选项D错误：重写是运行时确定，不是编译时。

记忆：
- 重载=编译时=静态绑定
- 重写=运行时=动态绑定
```
**答案**：D

### 例题3：UML关系强度 ⭐⭐⭐⭐⭐
UML类图中，关系强度从强到弱的顺序是？
A. 依赖>关联>聚合>组合>泛化
B. 泛化>组合>聚合>关联>依赖
C. 组合>聚合>泛化>关联>依赖
D. 泛化>聚合>组合>关联>依赖

**解析**：
```
UML类图关系强度（从强到弱）：
泛化（继承）> 实现 > 组合 > 聚合 > 关联 > 依赖

记忆口诀：泛实组聚关依

解释：
- 泛化（继承）：is-a关系，最强
- 实现：类实现接口
- 组合：强拥有，同生共死
- 聚合：弱拥有，可独立存在
- 关联：has-a关系，属性
- 依赖：use-a关系，参数，最弱

选项B正确（不考虑实现的情况下）。
```
**答案**：B

### 例题4：组合与聚合 ⭐⭐⭐⭐⭐
以下哪个是组合关系而不是聚合关系？
A. 公司和员工  B. 汽车和轮胎  C. 人和心脏  D. 班级和学生

**解析**：
```
组合 vs 聚合的区别：

组合（Composition）：
- 强拥有关系
- 整体和部分同生共死
- 部分不能独立存在
- 实心菱形◆

聚合（Aggregation）：
- 弱拥有关系
- 部分可以独立存在
- 整体销毁，部分可以继续存在
- 空心菱形◇

分析选项：
A. 公司和员工：员工可以离开公司独立存在 → 聚合
B. 汽车和轮胎：轮胎可以拆下来独立存在 → 聚合
C. 人和心脏：心脏不能离开人独立存在 → 组合 ✓
D. 班级和学生：学生可以转班独立存在 → 聚合

记忆：
- 组合：人和心脏、房子和房间、书和页
- 聚合：公司和员工、班级和学生、汽车和轮胎
```
**答案**：C
